(this["webpackJsonpreactbot-front"]=this["webpackJsonpreactbot-front"]||[]).push([[0],{40:function(e,t,a){e.exports=a(71)},71:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(30),l=a.n(r),c=a(12),o=a(6),i=function(){return s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("h3",null,"Cherche un cours"))},u=function(){return s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("h1",null," About us !"))},d=function(){return s.a.createElement("div",null,"Here goes a list of items")},m=function(){return s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("h2",null,"Shop"),s.a.createElement(d,null))},f=function(){return s.a.createElement("nav",null,s.a.createElement("div",{className:"nav-wrapper blue darken-3 "},s.a.createElement(c.b,{to:"/",className:"brand-logo center "}," Cours d\xe9veloppement web"),s.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"})))},p=a(11),v=a.n(p),h=a(9),g=a(17),b=a(33),E=a(34),y=a(37),w=a(35),k=a(39),x=a(18),N=a.n(x),O=a(38),j=a(36),_=function(e){return s.a.createElement("div",{className:"col s12 m8 offset-m2 offset-l3"},s.a.createElement("div",{className:"card-pannel grey lighten-5 z-depth-1"},s.a.createElement("div",{className:"row valign-wrapper"},"bot"===e.speaks&&s.a.createElement("div",{className:"col s2"},s.a.createElement("button",{href:"",className:"btn-floating btn-large waves-effect waves-light blue"},e.speaks)),s.a.createElement("div",{className:"col s10"},s.a.createElement("span",{className:"black-text"},e.text)),"me"===e.speaks&&s.a.createElement("div",{className:"col s2"},s.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light blue"},e.speaks)))))},I=function(e){return s.a.createElement("div",{style:{float:"right",paddingLeft:30,width:270}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-image",style:{width:240}},s.a.createElement("img",{alt:e.payload.fields.header.stringValue,src:e.payload.fields.image.stringValue}),s.a.createElement("span",{className:"card-title"},e.payload.fields.header.stringValue)),s.a.createElement("div",{className:"card-content"},e.payload.fields.description.stringValue,s.a.createElement("p",null,s.a.createElement("a",null,e.payload.fields.price.stringValue))),s.a.createElement("div",{className:"card-action"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.payload.fields.link.stringValue},"Get Now"))))},V=new O.a,S=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(w.a)(t).call(this,e)))._handleInputKeyPress=function(e){"Enter"===e.key&&(a.df_text_query(e.target.value),e.target.value="")},a.state={messages:[]},void 0===V.get("userID")&&V.set("userID",Object(j.v4)(),{path:"/"}),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"df_text_query",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n,s,r,l,c,o,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={speaks:"me",msg:{text:{text:t}}},this.setState({messages:[].concat(Object(h.a)(this.state.messages),[a])}),e.prev=2,e.next=5,N.a.post("/api/df_text_query",{text:t,userID:V.get("userID")});case 5:for(n=e.sent,s=!0,r=!1,l=void 0,e.prev=9,c=n.data.fulfillmentMessages[Symbol.iterator]();!(s=(o=c.next()).done);s=!0)i=o.value,a={speaks:"bot",msg:i},this.setState({messages:[].concat(Object(h.a)(this.state.messages),[a])});e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),r=!0,l=e.t0;case 17:e.prev=17,e.prev=18,s||null==c.return||c.return();case 20:if(e.prev=20,!r){e.next=23;break}throw l;case 23:return e.finish(20);case 24:return e.finish(17);case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(2),a={speaks:"bot",msg:{text:{text:"il y a un probl\xe8me de connection, essayons plus tard"}}},this.setState({messages:[].concat(Object(h.a)(this.state.messages),[a])});case 31:case"end":return e.stop()}}),e,this,[[2,27],[9,13,17,25],[18,,20,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"df_event_query",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n,s,r,l,c,o,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={speaks:"me",msg:{event:{event:t}}},e.prev=1,e.next=4,N.a.post("/api/df_event_query",{event:t,userID:V.get("userID")});case 4:for(n=e.sent,s=!0,r=!1,l=void 0,e.prev=8,c=n.data.fulfillmentMessages[Symbol.iterator]();!(s=(o=c.next()).done);s=!0)i=o.value,a={speaks:"bot",msg:i},this.setState({messages:[].concat(Object(h.a)(this.state.messages),[a])});e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),r=!0,l=e.t0;case 16:e.prev=16,e.prev=17,s||null==c.return||c.return();case 19:if(e.prev=19,!r){e.next=22;break}throw l;case 22:return e.finish(19);case 23:return e.finish(16);case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(1),a={speaks:"bot",msg:{text:{text:"il y a un probl\xe8me de connection, essayons plus tard"}}},this.setState({messages:[].concat(Object(h.a)(this.state.messages),[a])});case 30:case"end":return e.stop()}}),e,this,[[1,26],[8,12,16,24],[17,,19,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.df_event_query("welcome")}},{key:"componentDidUpdate",value:function(){this.messagesEnd.scrollIntoView({behaviour:"smooth"}),this.talkInput.focus()}},{key:"renderCards",value:function(e){return e.map((function(e,t){return s.a.createElement(I,{key:t,payload:e.structValue})}))}},{key:"renderOneMessage",value:function(e,t){return e.msg&&e.msg.text&&e.msg.text.text?s.a.createElement(_,{key:t,speaks:e.speaks,text:e.msg.text.text}):e.msg&&e.msg.payload&&e.msg.payload.fields&&e.msg.payload.fields.cards?s.a.createElement("div",{key:t},s.a.createElement("div",{className:"card-panel grey lighten-5 z-depth-1"},s.a.createElement("div",{style:{overflow:"hidden"}},s.a.createElement("div",{className:"col s2"},s.a.createElement("button",{href:"",className:"btn-floating btn-large waves-effect waves-light blue"},e.speaks)),s.a.createElement("div",{style:{overflow:"auto",overflowY:"scroll"}},s.a.createElement("div",{style:{height:300,width:270*e.msg.payload.fields.cards.listValue.values.length}},this.renderCards(e.msg.payload.fields.cards.listValue.values)))))):void 0}},{key:"renderMessages",value:function(e){var t=this;return e?e.map((function(e,a){return t.renderOneMessage(e,a)})):null}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:{height:400,width:400,float:"center",border:"1px solid lightgrey"}},s.a.createElement("nav",null,s.a.createElement("div",{className:"nav-wrapper blue darken-3"},s.a.createElement("a",{className:"brand-logo"},"Chat'Bout"))),s.a.createElement("div",{id:"chatbot",syle:{height:388,width:"100%",overflow:"auto"}},this.renderMessages(this.state.messages),s.a.createElement("div",{ref:function(t){e.messagesEnd=t},syle:{float:"left",clear:"both"}})),s.a.createElement("div",{className:"col s12"},s.a.createElement("input",{style:{margin:0,paddingLeft:"1%",paddingRight:"1%",width:"98%"},placeholder:"\xe9cris un truc au bot",type:"text",ref:function(t){e.talkInput=t},onKeyPress:this._handleInputKeyPress})))}}]),t}(n.Component),C=function(){return s.a.createElement("div",null,s.a.createElement(c.a,null,s.a.createElement("div",{className:"container"},s.a.createElement(f,null),s.a.createElement(o.a,{exact:!0,path:"/",component:i}),s.a.createElement(o.a,{exact:!0,path:"/about",component:u}),s.a.createElement(o.a,{exact:!0,path:"/shop",component:m}),s.a.createElement(S,null))))},D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(70);l.a.render(s.a.createElement(C,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");D?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):M(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):M(e)}))}}()}},[[40,1,2]]]);
//# sourceMappingURL=main.5bc66a9a.chunk.js.map